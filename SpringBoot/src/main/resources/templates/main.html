<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/" lang="ko">
<head>
<meta charset="UTF-8">
<title>ë¬¸ì œ? Issue!</title>

<!-- CSS ë§í¬ -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="arrow-right-short" fill="currentColor" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M8.146 4.646a.5.5 0 0 1 .708 0L12 7.793a.5.5 0 0 1 0 .707l-3.146 3.147a.5.5 0 0 1-.708-.707L10.293 8H4.5a.5.5 0 0 1 0-1h5.793L8.146 5.354a.5.5 0 0 1 0-.708z"/>
  </symbol>
</svg>
  
	
  <link href="/css/style.css" rel="stylesheet">

<!-- JS ë§í¬ -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/search.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script async src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" crossorigin="anonymous"></script>
<style>
/* âœ… container ê°•ì œ í†µì¼ */
.container {
	max-width: 960px !important;
	width: 100%;
	margin-left: auto;
	margin-right: auto;
	padding-left: 12px;
	padding-right: 12px;
	box-sizing: border-box;
}
</style>
</head>
<body>


	<!-- âœ… ê²°ì œ ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ -->
	<div th:if="${paymentSuccess}" class="alert alert-success mt-3"
		role="alert">
		<span th:text="${paymentSuccess}">ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</span>
	</div>

	<!-- ğŸ”· ì»¤ìŠ¤í…€ í—¤ë” -->

	<nav class="custom-header">
		<div
			class="d-flex justify-content-between align-items-center w-100 px-4">
			<!-- âœ… ì—¬ê¸°ë§Œ ì‚¬ìš© -->
			<div class="logo d-flex align-items-center gap-2">
				<a href="/"> <img src="/images/ë¡œê³ .png" height="40" alt="ë¡œê³ ">
					<span class="logo-text"></span>
				</a>
			</div>


			<div class="header-links d-flex gap-2">
				<!-- âŒ ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê²½ìš° -->
				<th:block th:if="${session.info == null}">
					<a href="login" class="btn btn-outline-primary">LOGIN</a>
				</th:block>

				<!-- âœ… ë¡œê·¸ì¸í•œ ê²½ìš° -->
				<th:block th:unless="${session.info == null}">
					<a href="mypage" class="btn btn-outline-secondary">MYPAGE</a>
					<a href="logout" class="btn btn-outline-danger">LOGOUT</a>
				</th:block>
			</div>
		</div>
	</nav>
	<div class="container">

		<!-- ğŸ” ê²€ìƒ‰ ë° í‚¤ì›Œë“œ ì¶”ì²œ -->
		<div class="main-content">
			<section class="row search-section mb-5">
				<!-- ğŸ” ê²€ìƒ‰ì°½ + ë²„íŠ¼ ë¬¶ìŒ -->
				<div class="search-group">
					<div class="search-group">
			  <div class="search-container position-relative">
			    <div class="search-box d-flex align-items-center rounded-pill shadow-sm px-3 py-2 bg-white border">
			      <input id="searchInput" type="text" class="form-control border-0 flex-grow-1"
			             placeholder="ìê²©ì¦ ê²€ìƒ‰" autocomplete="off" />
			      <button id="clearBtn" title="Clear" type="button" class="btn btn-link text-dark ">âœ•</button>
			      <button id="searchBtn" type="button" class="btn btn-link text-primary px-2">
			        <i class="bi bi-search fs-5"></i>
			      </button>
			    </div>

				    <!-- ìë™ì™„ì„± ëª©ë¡ -->
				    <div id="suggestions" class="autocomplete bg-white shadow-sm rounded-bottom mt-1 py-2 px-3 d-none">
				      <th:block th:each="lic : ${licenseList}">
				        <div class="autocomplete-item py-1 text-dark"
				             th:data-id="${lic.liIdx}"
				             th:data-name="${lic.liName}">
				          <span th:text="${lic.liName}"></span>
				        </div>
				      </th:block>
				    </div>
				  </div>
				</div>

					<!-- ìê²©ì¦ ì¶”ì²œ ë²„íŠ¼ ì˜ì—­ -->
					<div class="search-suggestion d-flex flex-wrap gap-2">
					  <th:block th:each="lic : ${licenseList}">
					    <a th:href="@{'/redirectByLicense'(liIdx=${lic.liIdx})}"
					       class="btn btn-outline-primary d-inline-flex align-items-center">
					      <span th:text="${lic.liName}"></span>
					      <svg class="bi ms-2" width="16" height="16" aria-hidden="true">
					        <use xlink:href="#arrow-right-short"></use>
					      </svg>
					    </a>
					  </th:block>
					  
					</div>
				</div>

				<!-- ğŸ” MyPayment -->
				<th:block th:if="${session.info == null}">
					<div class="card keyword-box">
						<h4>MyPayment</h4>
						<p>ë¡œê·¸ì¸ì„ í•´ì£¼ì„¸ìš”</p>
					</div>
				</th:block>

				<th:block th:unless="${session.info == null}">
					<!-- âœ… ê²°ì œí•œ ìê²©ì¦ í™•ì¸ -->
					<div class="card keyword-box">
						<h4>ê²°ì œí•œ ìê²©ì¦ í™•ì¸</h4>
						<th:block th:if="${payList != null}">
							<ul>
								<th:block th:each="pay : ${payList}">
									<th:block th:if="${pay.planAct == 1}">
										<li><a th:href="@{'/license?liIdx=' + ${pay.planIdx}}"
											th:text="${pay.liName + ((pay.planType != null and pay.planType) ? ' (í•„ìˆ˜í˜•)' : ' (íƒêµ¬í˜•)')}">
												ìê²©ì¦ ì´ë¦„ </a></li>
									</th:block>
								</th:block>
							</ul>
						</th:block>
						<th:block th:if="${payList == null or #lists.isEmpty(payList)}">
							<p>ê²°ì œí•œ ìê²©ì¦ì´ ì—†ìŠµë‹ˆë‹¤.</p>
						</th:block>
					</div>
				</th:block>
			</section>
			<hr class="my-4">

			<!-- ğŸ“¢ ì„œë¹„ìŠ¤ í™ë³´ -->
			<section class="promotion-section">
  <main class="container py-5">
    <div class="row" data-masonry='{"percentPosition": true }'>

      <!-- ì¹´ë“œ 1 -->
      <div class="col-sm-6 col-lg-4 mb-4">
        <div class="card2 shadow-sm h-100">
          <div class="image-placeholder bg-secondary text-white d-flex align-items-center justify-content-center" style="height: 200px;">
            Image Placeholder
          </div>
          <div class="card-body">
            <h5 class="card-title">Card title that wraps to a new line</h5>
            <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content.</p>
          </div>
        </div>
      </div>

      <!-- ì¹´ë“œ 2 (ì¸ìš©ë¬¸) -->
      <div class="col-sm-6 col-lg-4 mb-4">
        <div class="card2 shadow-sm h-100 p-3">
          <figure class="mb-0">
            <blockquote class="blockquote">
              <p>â€œA well-known quote, contained in a blockquote element.â€</p>
            </blockquote>
            <figcaption class="blockquote-footer text-muted mb-0">
              Someone famous in <cite title="Source Title">Source Title</cite>
            </figcaption>
          </figure>
        </div>
      </div>

      <!-- ì¹´ë“œ 3 -->
      <div class="col-sm-6 col-lg-4 mb-4">
        <div class="card2 shadow-sm h-100">
          <div class="image-placeholder bg-secondary text-white d-flex align-items-center justify-content-center" style="height: 200px;">
            Image Placeholder
          </div>
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">This card has supporting text below as a natural lead-in to additional content.</p>
            <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
          </div>
        </div>
      </div>

      <!-- ì¹´ë“œ 4 (ê°•ì¡° ì¸ìš©ë¬¸) -->
      <div class="col-sm-6 col-lg-4 mb-4">
        <div class="card2 shadow-sm text-bg-primary text-center h-100 p-4">
          <figure class="mb-0">
            <blockquote class="blockquote">
              <p>â€œA well-known quote, contained in a blockquote element.â€</p>
            </blockquote>
            <figcaption class="blockquote-footer text-white-50 mb-0">
              Someone famous in <cite title="Source Title">Source Title</cite>
            </figcaption>
          </figure>
        </div>
      </div>

      <!-- ì¹´ë“œ 5 -->
      <div class="col-sm-6 col-lg-4 mb-4">
        <div class="card2 shadow-sm text-center h-100">
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">This card has a regular title and short paragraph of text below it.</p>
            <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
          </div>
        </div>
      </div>

      <!-- ì¹´ë“œ 6 -->
      <div class="col-sm-6 col-lg-4 mb-4">
        <div class="card2 shadow-sm h-100">
          <div class="image-placeholder bg-secondary text-white d-flex align-items-center justify-content-center" style="height: 200px;">
            Image Placeholder
          </div>
          <div class="card-body">
            <h5 class="card-title">Card title that wraps to a new line</h5>
            <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content.</p>
          </div>
        </div>
      </div>

      <!-- ì¹´ë“œ 7 (ìš°ì¸¡ ì •ë ¬ ì¸ìš©ë¬¸) -->
      <div class="col-sm-6 col-lg-4 mb-4">
        <div class="card2 shadow-sm text-end h-100 p-3">
          <figure class="mb-0">
            <blockquote class="blockquote">
              <p>â€œA well-known quote, contained in a blockquote element.â€</p>
            </blockquote>
            <figcaption class="blockquote-footer text-muted mb-0">
              Someone famous in <cite title="Source Title">Source Title</cite>
            </figcaption>
          </figure>
        </div>
      </div>

      <!-- ì¹´ë“œ 8 (ì´ë¯¸ì§€ë§Œ) -->
      <div class="col-sm-6 col-lg-4 mb-4">
        <div class="card2 shadow-sm h-100">
          <div class="image-placeholder bg-secondary text-white d-flex align-items-center justify-content-center" style="height: 200px;">
            Image Placeholder
          </div>
        </div>
      </div>

    </div>
  </main>
</section>

		</div>

		<!-- Footer -->
		<footer class="footer mt-5 py-4 border-top">
			<div class="container text-center">
				<nav class="nav justify-content-center mb-3">
					<a href="#" class="footer-link">Home</a> <a href="#"
						class="footer-link">About</a> <a href="#" class="footer-link">Contact</a>
				</nav>
				<p class="text-muted small mb-0">Â© 2025 ë¬¸ì œ Issue!</p>
			</div>
		</footer>

	<!-- JS -->
	<script>
	document.addEventListener('DOMContentLoaded', function () {
	    const input = document.getElementById('searchInput');
	    const suggestions = document.getElementById('suggestions');
	    const clearBtn = document.getElementById('clearBtn');
	    const searchBtn = document.getElementById('searchBtn');
	    let selectedId = null;

	    // ìë™ì™„ì„± í´ë¦­ â†’ ì…ë ¥ì°½ì— ê°’ ë°˜ì˜
	    suggestions.addEventListener('click', function (e) {
	      const item = e.target.closest('.autocomplete-item');
	      if (item) {
	        input.value = item.dataset.name;
	        selectedId = item.dataset.id;
	        suggestions.classList.add('d-none');
	      }
	    });

	    // ê²€ìƒ‰ ì…ë ¥ ì‹œ ìë™ì™„ì„± ë³´ì´ê¸°
	    input.addEventListener('input', function () {
	      selectedId = null; // ì§ì ‘ ì…ë ¥ ì‹œ ì´ˆê¸°í™”
	      if (input.value.trim() === '') {
	        suggestions.classList.add('d-none');
	      } else {
	        suggestions.classList.remove('d-none');
	      }
	    });

	    // âœ• ë²„íŠ¼ â†’ ì…ë ¥ ì´ˆê¸°í™”
	    clearBtn.addEventListener('click', function () {
	      input.value = '';
	      selectedId = null;
	      suggestions.classList.add('d-none');
	    });

	    // ë‹ë³´ê¸° í´ë¦­ â†’ í•´ë‹¹ ìê²©ì¦ìœ¼ë¡œ ì´ë™
	    searchBtn.addEventListener('click', function () {
	      if (selectedId) {
	        window.location.href = `/redirectByLicense?liIdx=${selectedId}`;
	      } else {
	        alert('í•´ë‹¹í•˜ëŠ” ìê²©ì¦ì€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
	      }
	    });
	  });
	</script>
	

</body>
</html>
